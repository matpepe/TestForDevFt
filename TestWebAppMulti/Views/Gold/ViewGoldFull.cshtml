@model DevTestModel.Models.MainViewWrapperModel
@using DevTestModel.ExtensionMethods
@using DevTestModel.Models
@using System.Linq
<h1>Main View</h1>
@{
    Func<bool> isGreen = () => Model.SingleItem.Price > 0; // Replace 0 with your specific condition
}

<!-- Other content of your main view -->

<div class="pretty-card card mt-4">
    <h2 class="card-title">Gold Price Information LIVE:</h2>
    <div class="card-body">
        <p class="card-text">Timestamp: @Model.SingleItem.Timestamp</p>
        <p class="card-text">Metal: @Model.SingleItem.Metal</p>
        <p class="card-text">Currency: @Model.SingleItem.Currency</p>
        <p class="card-text">Ask: @Model.SingleItem.Ask</p>
        <p class="card-text">Bid: @Model.SingleItem.Bid</p>
        <p class="card-text">Price: @Model.SingleItem.Price</p>
        <p class="card-text">Price (22K): @Model.SingleItem.PriceGram22K</p>
        <p class="card-text">CH: @Model.SingleItem.CH</p>
        <p class="card-text">CHP: @Model.SingleItem.CHP</p>
    </div>
</div>

<br />

<div class="statistical-table-card card mt-4">
    <h2 class="card-title">Additional Information Last 4:</h2>

    <table class="table">
        <thead>
            <tr>
                <th>Active</th>
                <th>Price</th>
                <th>Metal:</th>
                <th>Ask:</th>
                <th>Bid:</th>
                <th>Date of Upload</th>
                <th class="@((isGreen() ? "green-text" : "red-text"))">Color:</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var goldPrice in Model.CollectionItems.TakeLast(4))
            {
                <tr>
                    <td>@goldPrice.Active</td>
                    <td>@goldPrice.Price</td>
                    <td>@goldPrice.Metal.ToString()</td>
                    <td>@goldPrice.Ask.ToString()</td>
                    <td>@goldPrice.Bid.ToString()</td>
                    <td>@goldPrice.DateOfUpload.ToString()</td>
                    <td></td>
                </tr>
            }
        </tbody>
    </table>
</div>
<br />
<div class="statistical-table-card card mt-4">
    <h2 class="card-title">Additional Information TimeUpload</h2>
    <table class="table">
        <thead>
            <tr>
                <th>Active</th>
                <th>Price</th>
                <th>Date of Upload</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var goldPrice in Model.CollectionItems.TakeLast(10))
            {
                <tr>
                    <td>@goldPrice.Active</td>
                    <td>@goldPrice.Price</td>
                    <td>@goldPrice.DateOfUpload.ToString()</td>
                </tr>
            }
        </tbody>
    </table>
</div>
<br />

<br />
<form asp-controller="Gold" asp-action="SaveGoldPrice" method="post">
    <button id="addGoldPriceButton" type="submit" class="btn btn-outline-primary btn-block"><strong>AddGold</strong></button>
</form>
<br />
<a class="btn btn-success" asp-area="" asp-controller="Home" asp-action="Index">BackToIndex</a>
<br />
<br />
<a class="btn btn-success" asp-area="" asp-controller="Gold" asp-action="SmallGoldTable">SmallTable</a>
<br />

<div class="LAST">
    <div class="text-start">
        <br />
        <a href="#top" id="back-to-top" class="btn btn-primary back-to-top">Back to Top</a>
    </div>
    <script>
        // Smooth scrolling for the "Back to Top" link
        $(document).ready(function () {
            $(window).scroll(function () {
                if ($(this).scrollTop() > 100) {
                    $('#back-to-top').fadeIn();
                } else {
                    $('#back-to-top').fadeOut();
                }
            });

            $('#back-to-top').click(function () {
                $('body,html').animate({
                    scrollTop: 0
                }, 400);
                return false;
            });
        });
    </script>
</div>


<style>
    /* Styling for the Statistical Table Card */
    .statistical-table-card {
        border: 1px solid #ddd; /* Add border for a clean look */
        border-collapse: collapse;
        width: 100%;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    /* Styling for the Table Header */
    .statistical-table-card th, .statistical-table-card td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }

    /* Styling for the Alternate Row Color */
    .statistical-table-card tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    .green-text {
        color: green;
    }

    .red-text {
        color: red;
    }
</style>